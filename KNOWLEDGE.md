# OAZIS Bot ‚Äî –ü–æ–ª–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –í–°–ï –∑–Ω–∞–Ω–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ. –ß–∏—Ç–∞–π –µ–≥–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —á–∞—Ç–∞.

---

## üîß WORKFLOW –° GITHUB

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- URL: https://github.com/semiekhin/oazis-bot
- –¢–∏–ø: –ø—É–±–ª–∏—á–Ω—ã–π (—á—Ç–æ–±—ã Claude –º–æ–≥ —á–∏—Ç–∞—Ç—å)
- –í–µ—Ç–∫–∞: main

### SSH-–∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü—É—Ç—å: ~/.ssh/github_oazis
- –î–æ–±–∞–≤–ª–µ–Ω –≤ GitHub Settings ‚Üí SSH Keys

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
–ü–æ—Å–ª–µ –õ–Æ–ë–´–• –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω—è–π:
```bash
/opt/oazis/sync.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –û–±–Ω–æ–≤–ª—è–µ—Ç PROJECT.md —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
2. –í–∫–ª—é—á–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ CURRENT_TASK.md –≤ PROJECT.md
3. –î–æ–±–∞–≤–ª—è–µ—Ç raw-—Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—Å–µ .py, .json, .md, .txt —Ñ–∞–π–ª—ã
4. –ö–æ–º–º–∏—Ç–∏—Ç —Å –¥–∞—Ç–æ–π –∏ –ø—É—à–∏—Ç –Ω–∞ GitHub

### –†–∞–±–æ—Ç–∞ —Å –Ω–æ–≤—ã–º —á–∞—Ç–æ–º
1. –í –Ω–∞—á–∞–ª–µ —á–∞—Ç–∞ –ø–∏—à–µ—à—å: "–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º OAZIS Bot: https://raw.githubusercontent.com/semiekhin/oazis-bot/main/PROJECT.md?v=X" (X ‚Äî –ª—é–±–æ–µ —á–∏—Å–ª–æ –¥–ª—è —Å–±—Ä–æ—Å–∞ –∫—ç—à–∞)
2. Claude —á–∏—Ç–∞–µ—Ç PROJECT.md ‚Üí –≤–∏–¥–∏—Ç —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤—Å–µ —Ñ–∞–π–ª—ã
3. Claude –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –ª—é–±–æ–π —Ñ–∞–π–ª –ø–æ raw-—Å—Å—ã–ª–∫–µ
4. –í –∫–æ–Ω—Ü–µ —á–∞—Ç–∞ –ø–∏—à–µ—à—å: "–æ–±–Ω–æ–≤–∏ —Ç–µ–∫—É—â—É—é –∑–∞–¥–∞—á—É –¥–ª—è –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞"
5. Claude –æ–±–Ω–æ–≤–ª—è–µ—Ç CURRENT_TASK.md –∏ –¥–∞—ë—Ç –∫–æ–º–∞–Ω–¥—É –¥–ª—è sync.sh

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ GitHub
Raw-—Ñ–∞–π–ª—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è ~5 –º–∏–Ω—É—Ç. –î–ª—è —Å–±—Ä–æ—Å–∞ –∫—ç—à–∞ –¥–æ–±–∞–≤–ª—è–π ?v=1, ?v=2 –∏ —Ç.–¥. –∫ URL.

### .gitignore (—á—Ç–æ –ù–ï –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ä–µ–ø–æ)
- .env (—Å–µ–∫—Ä–µ—Ç—ã: —Ç–æ–∫–µ–Ω—ã, –ø–∞—Ä–æ–ª–∏, API –∫–ª—é—á–∏)
- venv/ (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ)
- __pycache__/ (–∫—ç—à Python)

---

## üèó –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –°–µ—Ä–≤–µ—Ä
- IP: 72.56.64.91
- –ü—É—Ç—å: /opt/oazis
- –ë–æ—Ç: @OazisAI_Bot
- –°–µ—Ä–≤–∏—Å: systemctl restart oazis-bot

### –°—Ç–µ–∫
- Python 3 + FastAPI
- Telegram Bot API (webhook —á–µ—Ä–µ–∑ Cloudflare tunnel)
- OpenAI API (AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç)
- JSON-—Ñ–∞–π–ª—ã –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
```
/opt/oazis/
‚îú‚îÄ‚îÄ app.py                      # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª, —Ä–æ—É—Ç–∏–Ω–≥ webhook
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ settings.py             # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—á–∏—Ç–∞–µ—Ç –∏–∑ .env)
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ menu.py                 # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ object_handlers.py      # –ù–∞–≤–∏–≥–∞—Ü–∏—è: –≥–æ—Ä–æ–¥ ‚Üí –æ–±—ä–µ–∫—Ç ‚Üí –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ units.py                # –†–∞—Å—á—ë—Ç—ã ROI, –ø–æ–¥–±–æ—Ä –ª–æ—Ç–æ–≤, —Ä–∞—Å—Å—Ä–æ—á–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ booking.py              # –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ ai_chat.py              # –û–±—Ä–∞–±–æ—Ç–∫–∞ AI-—á–∞—Ç–∞
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ telegram.py             # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
‚îÇ   ‚îú‚îÄ‚îÄ ai_chat.py              # –õ–æ–≥–∏–∫–∞ AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞ (OpenAI)
‚îÇ   ‚îú‚îÄ‚îÄ data_loader.py          # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON
‚îÇ   ‚îú‚îÄ‚îÄ calculations.py         # –†–∞—Å—á—ë—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ notifications.py        # Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ state.py                # In-memory —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ data/objects/
‚îÇ   ‚îú‚îÄ‚îÄ config.json             # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ –≥–æ—Ä–æ–¥–∞–º
‚îÇ   ‚îú‚îÄ‚îÄ altai/rizalta/          # –î–∞–Ω–Ω—ã–µ RIZALTA
‚îÇ   ‚îú‚îÄ‚îÄ evpatoria/moynako/      # –î–∞–Ω–Ω—ã–µ –ú–æ–π–Ω–∞–∫–æ
‚îÇ   ‚îî‚îÄ‚îÄ anapa/nikolay1/         # –î–∞–Ω–Ω—ã–µ –ù–∏–∫–æ–ª–∞–π I
‚îú‚îÄ‚îÄ KNOWLEDGE.md                # –≠–¢–û–¢ –§–ê–ô–õ ‚Äî —á–∏—Ç–∞–π –ø–µ—Ä–≤—ã–º!
‚îú‚îÄ‚îÄ PROJECT.md                  # –ü–∞—Å–ø–æ—Ä—Ç (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è sync.sh)
‚îú‚îÄ‚îÄ CURRENT_TASK.md             # –¢–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞
‚îú‚îÄ‚îÄ TODO.md                     # –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ CHANGELOG.md                # –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îî‚îÄ‚îÄ sync.sh                     # –°–∫—Ä–∏–ø—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
```

### –î–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –≤ –ø–∞–ø–∫–µ data/objects/{–≥–æ—Ä–æ–¥}/{–æ–±—ä–µ–∫—Ç}/:
- **finance.json** ‚Äî —é–Ω–∏—Ç—ã —Å —Ü–µ–Ω–∞–º–∏, —Ä–∞—Å—á—ë—Ç–∞–º–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
- **knowledge.txt** ‚Äî –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –¥–ª—è AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞
- **layouts/** ‚Äî PDF –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏

---

## üìä –ú–ê–¢–ï–ú–ê–¢–ò–ß–ï–°–ö–ò–ï –ú–û–î–ï–õ–ò

### –ú–æ–π–Ω–∞–∫–æ —Ä–µ–∑–æ—Ä—Ç (–ï–≤–ø–∞—Ç–æ—Ä–∏—è)
- ROI: 11.2-11.3% –≥–æ–¥–æ–≤—ã—Ö
- –û–∫—É–ø–∞–µ–º–æ—Å—Ç—å: 8-9 –ª–µ—Ç
- –†–∞—Å—Å—Ä–æ—á–∫–∞: –ü–í 30%, –¥–æ 24 –º–µ—Å, 0%
- –ö–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∫ 2027: +19-35%
- –ü–æ—Å–ª–µ —Å–¥–∞—á–∏: +8%/–≥–æ–¥ —Ä–æ—Å—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏

### –ù–∏–∫–æ–ª–∞–π I (–ê–Ω–∞–ø–∞)
- –û–ø–µ—Ä–∞—Ç–æ—Ä: Cosmos Hotel Group
- –ö–æ–º–∏—Å—Å–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞: 45%
- –ù–∞–ª–æ–≥ –ò–ü: 6%
- –§–æ—Ä–º—É–ª–∞: NOI = GI √ó 55% √ó 94%
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è ADR: +5%/–≥–æ–¥
- Cap Rate: 10%

–°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å (–∑–∞–≥—Ä—É–∑–∫–∞ / ADR):
| –ú–µ—Å—è—Ü | –ó–∞–≥—Ä—É–∑–∫–∞ | ADR 1-–∫–æ–º–Ω |
|-------|----------|------------|
| –Ø–Ω–≤–∞—Ä—å | 50% | 17 000 |
| –§–µ–≤—Ä–∞–ª—å | 30% | 17 000 |
| –ú–∞—Ä—Ç | 40% | 17 000 |
| –ê–ø—Ä–µ–ª—å | 50% | 17 000 |
| –ú–∞–π | 70% | 28 000 |
| –ò—é–Ω—å | 90% | 34 000 |
| –ò—é–ª—å | 95% | 40 000 |
| –ê–≤–≥—É—Å—Ç | 95% | 40 000 |
| –°–µ–Ω—Ç—è–±—Ä—å | 90% | 32 000 |
| –û–∫—Ç—è–±—Ä—å | 45% | 18 000 |
| –ù–æ—è–±—Ä—å | 30% | 16 000 |
| –î–µ–∫–∞–±—Ä—å | 40% | 16 000 |
| **–°—Ä–µ–¥–Ω–µ–µ** | **60%** | **24 333** |

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [x] Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub (–ø—É–±–ª–∏—á–Ω—ã–π)
- [x] SSH-–∫–ª—é—á –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
- [x] sync.sh –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- [x] PROJECT.md —Å raw-—Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –≤—Å–µ —Ñ–∞–π–ª—ã
- [x] CURRENT_TASK.md –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–µ–∂–¥—É —á–∞—Ç–∞–º–∏
- [x] .gitignore (—Å–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ —Ä–µ–ø–æ)

### –ë–æ—Ç
- [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —é–Ω–∏—Ç–æ–≤ –∏–∑ finance.json (–Ω–µ —Ö–∞—Ä–¥–∫–æ–¥)
- [x] –ö–Ω–æ–ø–∫–∏ —é–Ω–∏—Ç–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–ª–æ—â–∞–¥—å –≤–º–µ—Å—Ç–æ –∫–æ–¥–æ–≤
- [x] –ü–æ–¥–±–æ—Ä –ª–æ—Ç–∞ —Å –∫–∞–ø–∏—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π (+8%/–≥–æ–¥ –ø–æ—Å–ª–µ —Å–¥–∞—á–∏)
- [x] –†–∞—Å—á—ë—Ç ROI –∏–∑ –¥–∞–Ω–Ω—ã—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞

### –û–±—ä–µ–∫—Ç—ã
- [x] RIZALTA (–ê–ª—Ç–∞–π) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ú–æ–π–Ω–∞–∫–æ —Ä–µ–∑–æ—Ä—Ç (–ï–≤–ø–∞—Ç–æ—Ä–∏—è) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –ù–∏–∫–æ–ª–∞–π I (–ê–Ω–∞–ø–∞) ‚Äî finance.json –∑–∞–ø–æ–ª–Ω–µ–Ω, –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

## üîÑ –ö–õ–Æ–ß–ï–í–´–ï –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ò

### –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞ –∫ –¥–∏–Ω–∞–º–∏–∫–µ (30 –Ω–æ—è–±—Ä—è 2025)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∏ —é–Ω–∏—Ç–æ–≤ –∏ —Ä–∞—Å—á—ë—Ç—ã –±—ã–ª–∏ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –¥–ª—è RIZALTA (A209, B210, A305)

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_unit_buttons_for_object(chat_id)` ‚Äî —á–∏—Ç–∞–µ—Ç —é–Ω–∏—Ç—ã –∏–∑ finance.json
2. –ö–Ω–æ–ø–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–ª–æ—â–∞–¥–∏: "27.91 –º¬≤", "28.53 –º¬≤"
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∏—â–µ—Ç —é–Ω–∏—Ç –ø–æ –ø–ª–æ—â–∞–¥–∏
4. –†–∞—Å—á—ë—Ç—ã –±–µ—Ä—É—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ finance.json –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞

**–§–∞–π–ª—ã:**
- handlers/object_handlers.py ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏
- handlers/units.py ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á—ë—Ç—ã
- app.py ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —é–Ω–∏—Ç–æ–≤

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –Ω–∞ RIZALTA
- –§–∞–π–ª: services/ai_chat.py
- –°—Ç—Ä–æ–∫–∞ 122: `finance = load_finance()` ‚Äî –≤—Å–µ–≥–¥–∞ –≥—Ä—É–∑–∏—Ç RIZALTA
- TODO: —Å–¥–µ–ª–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É

---

## üìù –í–ê–ñ–ù–´–ï –ö–û–ú–ê–ù–î–´
```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å GitHub
/opt/oazis/sync.sh

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
systemctl restart oazis-bot

# –õ–æ–≥–∏ –±–æ—Ç–∞
journalctl -u oazis-bot -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
systemctl status oazis-bot
```

---

## üë• –ö–û–ù–¢–ê–ö–¢–´
–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞: Claude + –°–µ—Ä–≥–µ–π
